<% title "User List" %>
<script type="text/javascript">
    $(document).ready(function(){
        var oTable = $("#list_table").dataTable({
            "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ per page",
                "oPaginate": {
                    "sPrevious": "Prev",
                    "sNext": "Next"
                }
            },
            "aoColumnDefs": [{
                'bSortable': false,
                'aTargets': [0]
            }]
        });

        $('#list_table_wrapper .dataTables_filter input').addClass("m-wrap medium"); // modify table search input
        $('#list_table_wrapper .dataTables_length select').addClass("m-wrap xsmall"); // modify table per page dropdown
    });
</script>

<div class="portlet-body">
    <div class="clearfix">
        <div class="btn-group">
            <%= link_to 'New User', new_user_path, :class=> 'btn green' %>
        </div>
    </div>

    <table class="table table-striped table-hover table-bordered" id="list_table">
      <tr>
        <th>User Email</th>
        <th></th>
        <th></th>
        <th></th>
      </tr>

    <% @users.each do |user| %>
      <tr>
        <td><%= user.email %></td>
        <td><%= link_to 'Edit', edit_user_path(user) %></td>
        <td><%= link_to 'Edit Profile', edit_user_profile_path(user) %></td>
        <td><%= link_to 'Destroy', user, :method => :delete, :data => { :confirm => 'Are you sure?' } %></td>
      </tr>
    <% end %>
    </table>
</div>