<% title "Customers" %>
<script type="text/javascript">
    $(document).ready(function(){
        var oTable = $("#list_table").dataTable({
            "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span6'i><'span6'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ per page",
                "oPaginate": {
                    "sPrevious": "Prev",
                    "sNext": "Next"
                }
            },
            "aoColumnDefs": [{
                'bSortable': false,
                'aTargets': [0]
            }]
        });

        $('#list_table_wrapper .dataTables_filter input').addClass("m-wrap medium"); // modify table search input
        $('#list_table_wrapper .dataTables_length select').addClass("m-wrap xsmall"); // modify table per page dropdown

        console.log(oTable);
    });
</script>

<div class="portlet-body">
    <div class="clearfix">
        <div class="btn-group">
            <%= link_to 'New Customer', new_customer_path, :class=> 'btn green' %>
        </div>
    </div>

    <table class="table table-striped table-hover table-bordered" id="list_table">
    <tr>
      <th>Logo</th>
      <th>Name</th>
      <th>Code</th>
      <th>Maincontact</th>
      <th>Avatar</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>

  <% @customers.each do |customer| %>
    <tr>
      <td><%= image_tag customer.avatar.url(:small) %></td>
      <td><%= customer.name %></td>
      <td><%= customer.code %></td>
      <td><%= customer.maincontact %></td>
      <td><%= link_to 'Show', customer %></td>
      <td><%= link_to 'Edit', edit_customer_path(customer) %></td>
      <td><%= link_to 'Destroy', customer, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
  </table>
</div>